MACRO ASSEMBLER TIMER_50MS_PRECIS2                          11/19/18 15:51:29 PAGE     1


WIN32 MACRO ASSEMBLER MA51 V06.04.19OBJECT MODULE PLACED IN C:\USERS\DUBOC_AU\DESKTOP\TP3\TIMER_50MS_PRECIS2.OBJ
ASSEMBLER INVOKED BY: MA51.EXE C:\USERS\DUBOC_AU\DESKTOP\TP3\TIMER_50MS_PRECIS2.A51 OJ(C:\USERS\DUBOC_AU\DESKTOP\TP3\TIMER_50MS_PRECIS2.OBJ) PIN(C:\RIDE\INC;C:\RIDE\INC\51) PIN(C:\RIDE\INC\51\) EP LINES SYNTAX(ASM51) MOD51 PR(C:\USERS\DUBOC_AU\DESKTOP\TP3\TIMER_50MS_PRECIS2.LST) XR DB PW(80) RB(0) 

LOC     OBJ           LINE    SOURCE
                         1     ;En-tête
                         2     
                         3     ;Déclaration des  variables 
  00B0                   4     LED		BIT		P3.0
                         5     
                         6     
                         7     ;Table des vecteurs
  0000                   8     			ORG		0000H
0000    802E             9     			SJMP		DEBUT
  0030                  10     			ORG		0030H
                        11     			
                        12     DEBUT: 	
0030    C2B0            13     			CLR		LED		
0032    758901          14     			MOV		TMOD,#1H				;On initialise le timer en mode 1 avec GATE=0 et C/T=0
                        15     DEB_TIMER: 	
0035    C28D            16     			CLR		TF0					
0037    C28C            17     			CLR		TR0
0039    E58A            18     			MOV		A,TL0				   ;1cm
003B    24B7            19     			ADD      A,#0B7H				;1cm / On veut compter 50 000 µs donc ffffh-c34fh=3cb0h
003D    F58A            20     			MOV		TL0,A					;1cm
003F    E58C            21     			MOV		A,TH0             ;1cm
0041    343C            22     			ADDC		A,#3CH            ;1cm
0043    F58C            23     			MOV		TH0,A			      ;1cm
0045    D28C            24     			SETB		TR0					;1cm / On démarre le timer
0047    308DFD          25     TQ: 		JNB   	TF0,TQ
004A    B2B0            26     			CPL		LED	
004C    80E7            27     FIN: 		SJMP		DEB_TIMER
                        28     			
                        29     			END
MACRO ASSEMBLER TIMER_50MS_PRECIS2                          11/19/18 15:51:29 PAGE     0


SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES             REFERENCES

P3 . . . . . . . .  D ADDR   00B0H   A                          4 
TQ . . . . . . . .  C ADDR   0047H   A                          25# 
TF0. . . . . . . .  B ADDR   0088H.5 A                          16 25 
DEB_TIMER. . . . .  C ADDR   0035H   A                          15# 27 
TH0. . . . . . . .  D ADDR   008CH   A                          21 23 
TL0. . . . . . . .  D ADDR   008AH   A                          18 20 
DEBUT. . . . . . .  C ADDR   0030H   A                          9 12# 
TMOD . . . . . . .  D ADDR   0089H   A                          14 
LED. . . . . . . .  B ADDR   00B0H.0 A                          4# 13 26 
TR0. . . . . . . .  B ADDR   0088H.4 A                          17 24 
FIN. . . . . . . .  C ADDR   004CH   A                          27# 



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     32    ----
   XDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


REGISTER BANK(S) USED : 0 

ASSEMBLY COMPLETE.   0 WARNING(S)   0 ERROR(S)
